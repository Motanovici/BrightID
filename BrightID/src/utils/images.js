// @flow

import RNFetchBlob from 'rn-fetch-blob';
import { compose } from 'ramda';
import ImagePicker from './ImagePickerProvider';

const options = {
  cropping: true,
  width: 180,
  height: 180,
  writeTempFile: false,
  includeBase64: true,
  includeExif: true,
  cropperToolbarTitle: 'Select Photo',
  smartAlbums: ['RecentlyAdded', 'UserLibrary', 'PhotoStream', 'SelfPortraits'],
  useFrontCamera: true,
  // compressImageMaxWidth: 180,
  // compressImageMaxHeight: 180,
  compressImageQuality: 0.8,
  mediaType: 'photo',
};

export const takePhoto = () =>
  new Promise((res, rej) => {
    ImagePicker.openCamera(options)
      .then((response) => {
        res(response);
        console.log('size', response.size);
        console.log('width', response.width);
        console.log('height', response.height);
      })
      .catch((err) => {
        rej(err);
      });
  });

export const chooseImage = () =>
  new Promise((res, rej) => {
    ImagePicker.openPicker(options)
      .then((response) => {
        res(response);
        console.log('size', response.size);
        console.log('width', response.width);
        console.log('height', response.height);
      })
      .catch((err) => {
        rej(err);
      });
  });

const fakeUserAvatar = (): Promise<string> => {
  // save each connection with their id as the async storage key
  return RNFetchBlob.fetch('GET', 'https://picsum.photos/180', {})
    .then((res) => {
      if (res.info().status === 200) {
        let b64 = res.base64();
        return b64;
      } else {
        return 'https://picsum.photos/180';
      }
    })
    .catch((err) => {
      err instanceof Error ? console.warn(err.message) : console.log(err);
    });
};

const randomAvatar = async (): Promise<void> => {
  try {
    const randomImage: string = await fakeUserAvatar();
    return { uri: 'data.jpg', data: randomImage };
  } catch (err) {
    console.log(err);
  }
};

export const noAvatar = () => {
  return "data:image/png;base64,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";
};

const splitDataURI = (str: string) => str.split(',', 2);

const mediaTypeToFileExtension = ([mediaType = 'jpeg', image = ' ']): {
  filetype: string,
  image: string,
} => {
  if (mediaType.includes('jpeg')) {
    return { filetype: 'jpg', image };
  }
  if (mediaType.includes('png')) {
    return { filetype: 'png', image };
  }
  if (mediaType.includes('gif')) {
    return { filetype: 'gif', image };
  }
  return { filetype: 'jpg', image };
};

export const parseDataUri = compose(mediaTypeToFileExtension, splitDataURI);

const fileType = (str: string): string =>
  str
    .split('.')
    .pop()
    .toLowerCase();

const normalizeType = (t: string): string => {
  switch (t) {
    case 'jpg':
      return 'image/jpeg';
    case 'png':
      return 'image/png';
    case 'gif':
      return 'image/gif';
    default:
      return 'image/jpeg';
  }
};

export const mimeFromUri = compose(normalizeType, fileType);
